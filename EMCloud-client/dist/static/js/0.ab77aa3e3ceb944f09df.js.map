{"version":3,"sources":["webpack:///src/components/goods/List.vue","webpack:///./src/components/goods/List.vue?454b","webpack:///./src/components/goods/List.vue","webpack:///./node_modules/babel-runtime/core-js/get-iterator.js","webpack:///./node_modules/core-js/library/fn/get-iterator.js","webpack:///./node_modules/core-js/library/modules/core.get-iterator.js"],"names":["List","name","data","queryInfo","query","pagenum","pagesize","goodsList","total","created","this","getGoodsList","methods","_this","asyncToGenerator_default","regenerator_default","a","mark","_callee","_ref","res","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","item","wrap","_context","prev","next","$http","get","params","sent","meta","status","abrupt","$message","error","undefined","get_iterator_default","goods","done","value","add_time","$utils","formatToTime","t0","return","finish","success","stop","handleSizeChange","handleCurrentChange","deleteGoods","row","_this2","$confirm","confirmButtonText","cancelButtonText","type","then","_callee2","_ref3","_context2","delete","goods_id","message","catch","goAddpage","$router","push","goEditpage","id","goods_List","render","_vm","_h","$createElement","_c","_self","attrs","separator-class","to","path","_v","staticClass","gutter","span","placeholder","clearable","on","clear","model","callback","$$v","$set","expression","slot","icon","click","border","stripe","label","prop","scopedSlots","_u","key","fn","scope","size","$event","current-page","page-sizes","page-size","layout","size-change","current-change","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","module","exports","default","__esModule","anObject","getIterator","it","iterFn","TypeError","call"],"mappings":"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","file":"static/js/0.ab77aa3e3ceb944f09df.js","sourcesContent":["<template>\r\n  <div>\r\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\r\n      <el-breadcrumb-item :to=\"{ path: '/' }\">首页</el-breadcrumb-item>\r\n      <el-breadcrumb-item>商品管理</el-breadcrumb-item>\r\n      <el-breadcrumb-item>商品列表</el-breadcrumb-item>\r\n    </el-breadcrumb>\r\n\r\n    <el-card class=\"box-card\">\r\n      <el-row :gutter=\"20\">\r\n        <!--一行有24格-->\r\n        <el-col :span=\"8\">\r\n          <el-input placeholder=\"请输入商品名称\" v-model=\"queryInfo.query\" clearable @clear=\"getGoodsList\">\r\n            <el-button slot=\"append\" icon=\"el-icon-search\" @click=\"getGoodsList\"></el-button>\r\n          </el-input>\r\n        </el-col>\r\n        <el-col :span=\"4\">\r\n          <el-button type=\"primary\" @click=\"goAddpage\">添加商品</el-button>\r\n        </el-col>\r\n      </el-row>\r\n\r\n      <el-table :data=\"goodsList\" border stripe>\r\n        <el-table-column type=\"index\" label=\"序号\"></el-table-column>\r\n        <el-table-column prop=\"goods_name\" label=\"商品名称\"></el-table-column>\r\n        <el-table-column prop=\"goods_price\" label=\"商品价格(元)\"></el-table-column>\r\n        <el-table-column prop=\"goods_weight\" label=\"商品重量\"></el-table-column>\r\n        <el-table-column prop=\"add_time\" label=\"创建时间\"></el-table-column>\r\n        <el-table-column label=\"操作\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button type=\"primary\" icon=\"el-icon-edit\" size=\"mini\" @click=\"goEditpage(scope.row.goods_id)\"></el-button>\r\n            <el-button type=\"danger\" icon=\"el-icon-delete\" size=\"mini\" @click=\"deleteGoods(scope.row)\"></el-button>\r\n          </template>\r\n\r\n        </el-table-column>\r\n      </el-table>\r\n\r\n      <el-pagination\r\n          @size-change=\"handleSizeChange\"\r\n          @current-change=\"handleCurrentChange\"\r\n          :current-page=\"queryInfo.pagenum\"\r\n          :page-sizes=\"[20, 30, 40, 50]\"\r\n          :page-size=\"queryInfo.pagesize\"\r\n          layout=\"total, sizes, prev, pager, next, jumper\"\r\n          :total=\"total\">\r\n      </el-pagination>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"List.vue\",\r\n  data() {\r\n    return {\r\n      queryInfo: {\r\n        query: '',\r\n        pagenum: 1,\r\n        pagesize: 20\r\n      },\r\n      goodsList: [],\r\n      total: 0\r\n    }\r\n  },\r\n  created() {\r\n    this.getGoodsList();\r\n  },\r\n  methods: {\r\n    async getGoodsList() {\r\n      const {data:res} = await this.$http.get('goods',{\r\n        params: this.queryInfo\r\n      });\r\n      if(res.meta.status !== 200)\r\n        return this.$message.error('获取失败');\r\n\r\n      for(let item of res.data.goods) {\r\n        item.add_time= this.$utils.formatToTime(item.add_time)\r\n      }\r\n      this.goodsList = res.data.goods;\r\n      this.total = res.data.total;\r\n      this.$message.success('获取商品成功');\r\n    },\r\n    handleSizeChange(pagesize) {\r\n      this.queryInfo.pagesize = pagesize;\r\n      this.getGoodsList();\r\n    },\r\n    handleCurrentChange(pagenum) {\r\n      this.queryInfo.pagenum = pagenum;\r\n      this.getGoodsList();\r\n    },\r\n    deleteGoods(row) {\r\n      this.$confirm('此操作将永久删除该商品, 是否继续?', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(async () => {\r\n        const {data:res} = await this.$http.delete(`goods/${row.goods_id}`);\r\n        if(res.meta.status !== 200)\r\n          return this.$message.error('删除用户失败');\r\n        this.getGoodsList();\r\n        this.$message({\r\n          type: 'success',\r\n          message: '删除成功!'\r\n        });\r\n      }).catch(() => {\r\n        this.$message({\r\n          type: 'info',\r\n          message: '已取消删除'\r\n        });\r\n      });\r\n    },\r\n    goAddpage() {\r\n      this.$router.push('/goods/add');\r\n    },\r\n    goEditpage(id) {\r\n      this.$router.push('/goods/edit?id='+id)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.box-card {\r\n  margin-top: 30px;\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/goods/List.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-breadcrumb',{attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',{attrs:{\"to\":{ path: '/' }}},[_vm._v(\"首页\")]),_vm._v(\" \"),_c('el-breadcrumb-item',[_vm._v(\"商品管理\")]),_vm._v(\" \"),_c('el-breadcrumb-item',[_vm._v(\"商品列表\")])],1),_vm._v(\" \"),_c('el-card',{staticClass:\"box-card\"},[_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":8}},[_c('el-input',{attrs:{\"placeholder\":\"请输入商品名称\",\"clearable\":\"\"},on:{\"clear\":_vm.getGoodsList},model:{value:(_vm.queryInfo.query),callback:function ($$v) {_vm.$set(_vm.queryInfo, \"query\", $$v)},expression:\"queryInfo.query\"}},[_c('el-button',{attrs:{\"slot\":\"append\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.getGoodsList},slot:\"append\"})],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":4}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.goAddpage}},[_vm._v(\"添加商品\")])],1)],1),_vm._v(\" \"),_c('el-table',{attrs:{\"data\":_vm.goodsList,\"border\":\"\",\"stripe\":\"\"}},[_c('el-table-column',{attrs:{\"type\":\"index\",\"label\":\"序号\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"goods_name\",\"label\":\"商品名称\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"goods_price\",\"label\":\"商品价格(元)\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"goods_weight\",\"label\":\"商品重量\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"add_time\",\"label\":\"创建时间\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-edit\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.goEditpage(scope.row.goods_id)}}}),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"danger\",\"icon\":\"el-icon-delete\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.deleteGoods(scope.row)}}})]}}])})],1),_vm._v(\" \"),_c('el-pagination',{attrs:{\"current-page\":_vm.queryInfo.pagenum,\"page-sizes\":[20, 30, 40, 50],\"page-size\":_vm.queryInfo.pagesize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7b100319\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/goods/List.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7b100319\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./List.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./List.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./List.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7b100319\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./List.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-7b100319\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/goods/List.vue\n// module id = null\n// module chunks = ","module.exports = { \"default\": require(\"core-js/library/fn/get-iterator\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/get-iterator.js\n// module id = BO1k\n// module chunks = 0 1","require('../modules/web.dom.iterable');\nrequire('../modules/es6.string.iterator');\nmodule.exports = require('../modules/core.get-iterator');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/get-iterator.js\n// module id = fxRn\n// module chunks = 0 1","var anObject = require('./_an-object');\nvar get = require('./core.get-iterator-method');\nmodule.exports = require('./_core').getIterator = function (it) {\n  var iterFn = get(it);\n  if (typeof iterFn != 'function') throw TypeError(it + ' is not iterable!');\n  return anObject(iterFn.call(it));\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/core.get-iterator.js\n// module id = g8Ux\n// module chunks = 0 1"],"sourceRoot":""}